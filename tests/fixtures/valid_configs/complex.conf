# Complex SCST configuration with nested structures and edge cases
HANDLER vdisk_blockio {
    DEVICE complex_disk {
        filename /dev/mapper/complex-lv
        blocksize 4096
        nv_cache 1
        o_direct 1
        read_only 0
        removable 0
        rotational 1
        thin_provisioned 0
    }
    
    DEVICE simple_disk {
        filename /dev/mapper/simple-lv
        blocksize 512
        read_only 0
    }
}


# Multiple target drivers
TARGET_DRIVER iscsi {
    # Multiple targets with various LUN configurations
    TARGET iqn.2024-01.com.example:complex {
        LUN 0 complex_disk
        LUN 1 simple_disk {
            read_only 0
            thin_provisioned 1
        }
        # High LUN numbers
        LUN 255 complex_disk {
            read_only 1
        }
        
        # Target attributes
        MaxRecvDataSegmentLength 262144
        MaxXmitDataSegmentLength 262144
        MaxBurstLength 1048576
        FirstBurstLength 65536
        enabled 1
    }
    
    TARGET iqn.2024-01.com.example:simple {
        LUN 0 simple_disk
        enabled 1
    }
    
    # Driver attributes
    isns_entity_name "Test iSNS Entity"
    enabled 1
}

TARGET_DRIVER qla2x00t {
    TARGET 21000024ff12345678 {
        LUN 0 complex_disk
        enabled 1
    }
    enabled 1
}

# Complex device groups with nested target groups
DEVICE_GROUP production_group {
    DEVICE complex_disk
    DEVICE simple_disk
    
    TARGET_GROUP internal_servers {
        TARGET iqn.2024-01.com.example:complex
        
        LUN 0 complex_disk
        LUN 1 simple_disk {
            read_only 1
        }
    }
    
    TARGET_GROUP external_servers {
        TARGET iqn.2024-01.com.example:simple
        
        LUN 0 simple_disk
    }
}

# Multiple device groups
DEVICE_GROUP test_group {
    DEVICE simple_disk
    
    TARGET_GROUP testers {
        TARGET iqn.2024-01.com.example:simple
        LUN 0 simple_disk
    }
}

# Global SCST attributes with various types
setup_id 67890
max_tasklet_cmd 32
def_sess_per_tgt 8
max_sess_per_tgt 16